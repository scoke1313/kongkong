<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì¶˜ì‹ì´ 20fps - í•„ìŠ¹ ë ˆì´ì–´ ë°©ì‹</title>
  <script src="https://unpkg.com/@rive-app/canvas@latest"></script>
  <style>
    body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background: #333; }
    #container { position: relative; width: 480px; height: 800px; background: #fff; overflow: hidden; }
    
    /* 1. ë°”ë‹¥ ë ˆì´ì–´ (ê²Œì„ ë°°ê²½ ë“±) */
    #bgCanvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; background: #f0f0f0; }
    
    /* 2. ì¶˜ì‹ì´ ì „ìš© íˆ¬ëª… ë ˆì´ì–´ (ì•„ê¹Œ ê·¸ ë°©ë²•!) */
    /* 86x138 ê·œê²© ê³ ì • */
    #chunCanvas { 
      position: absolute; 
      z-index: 2; 
      width: 86px; 
      height: 138px; 
      pointer-events: none; /* í´ë¦­ ë°©í•´ ê¸ˆì§€ */
    }
  </style>
</head>
<body>
  <div id="container">
    <canvas id="bgCanvas"></canvas>
    <canvas id="chunCanvas"></canvas> </div>

  <script>
    async function loadChun() {
      const canvas = document.getElementById('chunCanvas');
      try {
        // íŒŒì¼ì„ ë°”ì´ë„ˆë¦¬ë¡œ ì§ì ‘ ê¸ì–´ì˜¤ê¸° (ë¡œë”© ì—ëŸ¬ ë°©ì§€)
        const resp = await fetch('kongsik_ingame_20fps.riv');
        const buffer = await resp.arrayBuffer();

        const r = new rive.Rive({
          buffer: buffer,
          canvas: canvas,
          artboard: 'Artboard',
          stateMachines: 'State Machine 1',
          autoplay: true,
          onLoad: () => {
            r.resizeDrawingSurfaceToCanvas();
            // í™”ë©´ ì¤‘ì•™ì— ë°°ì¹˜ í…ŒìŠ¤íŠ¸
            canvas.style.left = '197px'; 
            canvas.style.top = '331px';
            console.log("ê¸°ì–µí•˜ì‹  ê·¸ ë°©ë²•ëŒ€ë¡œ ë¡œë“œ ì™„ë£Œ! ğŸ¯");
          }
        });
      } catch (e) {
        console.error("íŒŒì¼ì„ ëª» ì°¾ì•˜ìŠµë‹ˆë‹¤.");
      }
    }
    loadChun();

    // ë°°ê²½ ìº”ë²„ìŠ¤ í™•ì¸ìš© (íšŒìƒ‰ ë°œíŒ í•˜ë‚˜ ê·¸ë¦¼)
    const bgCtx = document.getElementById('bgCanvas').getContext('2d');
    bgCtx.fillStyle = "#ddd";
    bgCtx.fillRect(140, 450, 200, 20);
  </script>
</body>
</html>
